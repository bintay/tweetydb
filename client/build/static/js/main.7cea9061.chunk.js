(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{102:function(e,t,s){},107:function(e,t,s){"use strict";s.r(t);var n=s(1),a=s.n(n),o=s(50),r=s.n(o),c=(s(65),s(11)),i=s(51),l=s.n(i),u=(s(67),s(0)),d=function(e){var t=Object(n.useState)(""),s=Object(c.a)(t,2),a=s[0],o=s[1],r=function(t){"963bc8dd7a0e621416f1a1f846d5a7731e3771f7af52712080a33f984db5e617"===l()(e.password)?e.setLoggedIn(!0):o("Check your password \u2014 tweety didn't like that one")};return Object(u.jsxs)("div",{className:"login",onKeyDown:function(e){"Enter"===e.key&&r()},children:[Object(u.jsx)("img",{src:"/tweety.png",alt:""}),Object(u.jsx)("br",{}),Object(u.jsx)("h2",{children:"S.S. Tweety System Dashboard"}),Object(u.jsx)("input",{onChange:function(t){var s=t.target.value;e.setName(s)},name:"name",value:e.name,placeholder:"Name",type:"text"}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{onChange:function(t){var s=t.target.value;e.setPassword(s)},name:"password",value:e.password,placeholder:"Password",type:"text"}),Object(u.jsx)("br",{}),Object(u.jsx)("p",{children:a}),Object(u.jsx)("button",{onClick:r,children:"Access System"})]})},p=s(52),h=s(53),b=s(54),j=s(60),m=s(58);s(69);var f=function(e){if(0===e.rows.length)return Object(u.jsx)("div",{});var t=Object.keys(e.rows[0]);return Object(u.jsxs)("div",{className:"".concat(e.noMaxHeight?"table":"scrollTable"),style:e.style,children:[Object(u.jsx)("h2",{children:e.title}),Object(u.jsx)("table",{children:Object(u.jsxs)("tbody",{children:[Object(u.jsx)("tr",{children:t.map((function(e){return Object(u.jsx)("th",{children:e},e)}))}),e.rows.map((function(e,s){return Object(u.jsx)("tr",{style:{borderLeft:e.correct?"1px solid green":!1===e.correct?"1px solid red":""},children:t.map((function(t){return Object(u.jsx)("td",{children:Object(u.jsx)("div",{className:"cell-content",children:JSON.stringify(e[t])})},t)}))},s)}))]})})]})},g=(s(70),function(e){Object(j.a)(s,e);var t=Object(m.a)(s);function s(e){var n;return Object(h.a)(this,s),(n=t.call(this,e)).onSubmit=function(e){var t=document.getElementById("question-".concat(n.props.id,"-answer")).innerText;n.setState({loading:!0},(function(){fetch("https://tweetydb-api.herokuapp.com/submit",{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify({query:t,type:n.props.type,id:n.props.id,name:n.props.name,password:n.props.password})}).then((function(e){return e.json()})).then((function(e){e.error?n.setState({error:"There was an error with your query! Check table and column names, and please reach out to a moderator if you're stuck!",result:[],loading:!1,showResults:!0,numberIncorrect:n.state.numberIncorrect+1}):e.correct?n.setState({error:"",result:JSON.parse(e.result),loading:!1,showResults:!0,showNext:!0}):n.setState({error:"Your query ran, but the results weren't quite correct. Double check your logic, and please reach out to a moderator if you're stuck!",result:JSON.parse(e.result),loading:!1,showResults:!0,numberIncorrect:n.state.numberIncorrect+1})}))}))},n.nextQuestion=function(e){n.state.isOnNextQuestion||(n.props.setNextQuestion(e),n.setState({isOnNextQuestion:!0}))},n.render=function(){return Object(u.jsxs)("div",{className:"question",children:[Object(u.jsx)("p",{dangerouslySetInnerHTML:{__html:n.props.question}}),Object(u.jsx)("br",{}),Object(u.jsxs)("div",{className:"queryInput",children:[Object(u.jsxs)("p",{className:"databaseType",children:["> ",n.props.type]}),Object(u.jsx)("div",{id:"question-".concat(n.props.id,"-answer"),dangerouslySetInnerHTML:{__html:(e=n.props.template,n.props.id,e.replace(/___/g,'<span contenteditable="true" class="input" role="textbox"></span>'))}})]}),Object(u.jsx)("p",{className:"error",children:n.state.error}),n.state.result&&Array.isArray(n.state.result)&&n.state.result.length>0?Object(u.jsx)(f,{rows:n.state.result,title:"Query Results"}):n.state.showResults?Object(u.jsx)("p",{children:"no results to display"}):n.state.loading?Object(u.jsx)("p",{children:"loading..."}):Object(u.jsx)("br",{}),n.state.showNext?Object(u.jsx)("button",{onClick:n.nextQuestion,className:"yellow",children:"Next"}):Object(u.jsx)("button",{onClick:n.onSubmit,children:"Submit"}),n.state.numberIncorrect>3&&!n.state.showNext?Object(u.jsx)("button",{onClick:n.nextQuestion,className:"red",children:"Skip"}):null]});var e},n.state={isOnNextQuestion:!1,error:"",result:[],loading:!1,showResults:!1,showNext:!1,numberIncorrect:0},n}return Object(b.a)(s,[{key:"componentDidMount",value:function(){var e=document.getElementsByClassName("input");console.log(e);var t,s=Object(p.a)(e);try{for(s.s();!(t=s.n()).done;){var n=t.value;n.removeEventListener("paste",this.pasteRawText),n.addEventListener("paste",this.pasteRawText)}}catch(a){s.e(a)}finally{s.f()}}},{key:"pasteRawText",value:function(e){e.preventDefault();var t=e.clipboardData.getData("text/plain");document.execCommand("insertHTML",!1,t)}}]),s}(n.Component)),O=function(){return Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{style:{color:"rgb(255,255,77)",fontSize:40},children:"All systems operational!"}),Object(u.jsx)("img",{src:"/tweety.png",alt:"Tweety the spaceship",style:{width:400,marginTop:-100},className:"animateBounce"})]})},x=s(31),y=(s(71),function(e){var t=Object(n.useState)(0),s=Object(c.a)(t,2),a=s[0],o=s[1],r=function(e){o(a+1),i(e.target.offsetTop,2)},i=function e(t,s){var n=t-window.scrollY;if(Math.abs(n)>5){var a=n/2,o=Math.min(a,s);window.scrollTo(0,window.scrollY+o),requestAnimationFrame((function(){return e(t,1.1*s)}))}};return Object(u.jsxs)("div",{children:[x.slice(0,a+1).map((function(t){return Object(u.jsx)(g,{template:t.template,question:t.question,id:t.id,type:t.db_type,name:e.name,password:e.password,setNextQuestion:r},t.id)})),a>=x.length?Object(u.jsx)(O,{}):null]})}),w=function(){var e=Object(n.useState)(""),t=Object(c.a)(e,2),s=t[0],a=t[1],o=Object(n.useState)(""),r=Object(c.a)(o,2),i=r[0],l=r[1],p=Object(n.useState)(!1),h=Object(c.a)(p,2),b=h[0],j=h[1];return Object(u.jsx)("div",{className:"App",children:b?Object(u.jsx)(y,{password:i,name:s}):Object(u.jsx)(d,{password:i,name:s,setPassword:l,setName:a,setLoggedIn:j})})},_=s(59),v=s(55),N=s.n(v),S=function(){var e=Object(n.useState)([]),t=Object(c.a)(e,2),s=t[0],a=t[1];return Object(n.useEffect)((function(){console.log("mounted");var e=N()("https://tweetydb-api.herokuapp.com");e.on("full_logs",(function(e){console.log("full_logs",e),a(e)})),e.on("new_log",(function(e){console.log("new_log",e),console.log("old_logs",s),a((function(t){return t.concat([e])}))}))}),[]),Object(u.jsx)("div",{children:Object(u.jsx)(f,{style:{background:"#000"},noMaxHeight:!0,title:"Recent Submissions",rows:s.sort((function(e,t){return t.logId-e.logId})).map((function(e,t){var s=Object(_.a)({Name:e.name,"Question Number":e.id,Query:e.query},e);return delete s.id,delete s.name,delete s.query,s}))})})},k=s(56),T=s(2),q=(s(102),function(){return Object(u.jsxs)(k.a,{children:[Object(u.jsx)(T.a,{path:"/",exact:!0,children:Object(u.jsx)(w,{})}),Object(u.jsx)(T.a,{path:"/admin",children:Object(u.jsx)(S,{})})]})}),C=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,108)).then((function(t){var s=t.getCLS,n=t.getFID,a=t.getFCP,o=t.getLCP,r=t.getTTFB;s(e),n(e),a(e),o(e),r(e)}))};r.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(q,{})}),document.getElementById("root")),C()},31:function(e){e.exports=JSON.parse('[{"question":"First things first: if we don\'t get this navigational database up and running, we\'re going straight into the sun. Let\'s fix the query to get our current coordinates. Find the <span class=\'code\'>zulu_time</span>, <span class=\'code\'>azimuth</span>, <span class=\'code\'>altitude</span>, and <span class=\'code\'>zenith</span> columns for each row in the <span class=\'code\'>position</span> table.","template":"SELECT zulu_time, ___ FROM ___;","id":0,"db_type":"sqlite"},{"question":"Wow, that\'s a lot more positions than we wanted. We can\'t look through <i>everything</i> there to find our position. Try filtering it based on the time \u2014 find the position when <span class=\'code\'>zulu_time</span> is equal to <span class=\'code\'>\\"18:32\\"</span>.","template":"___ zulu_time, azimuth, altitude, zenith ___ position WHERE ___;","id":1,"db_type":"sqlite"},{"question":"Nice! That should be our approximate position. Now see if you can get the <span class=\'code\'>yaw</span>, <span class=\'code\'>pitch</span>, <span class=\'code\'>roll</span>, and <span class=\'code\'>speed</span> from the <span class=\'code\'>navigation</span> table where our azimuth, altitude, and zenith are equal to the results from above (azimuth = -311, altitude = 2353, and zenith = 729). That\'ll let us know how we should steer to get out of here.","template":"SELECT ___;","id":2,"db_type":"sqlite"},{"question":"Looks like we have a few options. Let\'s see which one gives us the largest <span class=\'code\'>chance_of_survival</span> \u2014 sort by that column, and limit it to one result.","template":"___ pitch, roll, yaw, speed ___ navigation ___ azimuth = -311 AND altitude = 2353 AND zenith = 729 ORDER BY ___ LIMIT ___;","id":3,"db_type":"sqlite"},{"question":"Okay, we should be able to navigate away safely. The passengers are complaining though \u2014 they want to know how long it\'ll take to get back home. There\'s a <span class=\'code\'>time_elapsed</span> column for each segment of the journey in the <span class=\'code\'>vectors</span> table. Can you get the sum of all of the times to get the total time elapsed?","template":"SELECT ___ FROM ___;","id":4,"db_type":"sqlite"},{"question":"That doesn\'t look right \u2014 we\'re faster than light! It looks like the <span class=\'code\'>vectors</span> table has the <span class=\'code\'>time_elapsed</span> for ALL spacecraft. Try grouping the results by <span class=\'code\'>spacecraft</span> to get a better answer for the passengers. Make sure its sorted by spacecraft.","template":"SELECT sum(time_elapsed), spacecraft FROM ___ GROUP BY ___ ORDER BY spacecraft;","id":5,"db_type":"sqlite"}]')},65:function(e,t,s){},67:function(e,t,s){},69:function(e,t,s){},70:function(e,t,s){},71:function(e,t,s){}},[[107,1,2]]]);
//# sourceMappingURL=main.7cea9061.chunk.js.map